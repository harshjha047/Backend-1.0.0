{
  "info": {
    "name": "Ecommerce Orders",
    "_postman_id": "12345678-abcd-efgh-ijkl-9876543210ab",
    "description": "Postman collection for testing all order routes (user & admin)",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Create New Order",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Authorization", "value": "Bearer <USER_JWT_TOKEN>" },
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"orderItems\": [\n    {\n      \"name\": \"Product 1\",\n      \"qty\": 2,\n      \"image\": \"/images/sample.jpg\",\n      \"price\": 500,\n      \"product\": \"PRODUCT_ID_HERE\"\n    }\n  ],\n  \"shippingAddress\": {\n    \"address\": \"123 Main St\",\n    \"city\": \"City\",\n    \"postalCode\": \"12345\",\n    \"country\": \"India\"\n  },\n  \"paymentMethod\": \"COD\",\n  \"itemsPrice\": 1000,\n  \"taxPrice\": 50,\n  \"shippingPrice\": 100,\n  \"totalPrice\": 1150\n}"
        },
        "url": {
          "raw": "http://localhost:5000/api/orders",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["api","orders"]
        }
      }
    },
    {
      "name": "Get My Orders",
      "request": {
        "method": "GET",
        "header": [
          { "key": "Authorization", "value": "Bearer <USER_JWT_TOKEN>" }
        ],
        "url": {
          "raw": "http://localhost:5000/api/orders/myorders",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["api","orders","myorders"]
        }
      }
    },
    {
      "name": "Get Single Order",
      "request": {
        "method": "GET",
        "header": [
          { "key": "Authorization", "value": "Bearer <USER_JWT_TOKEN>" }
        ],
        "url": {
          "raw": "http://localhost:5000/api/orders/ORDER_ID_HERE",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["api","orders","ORDER_ID_HERE"]
        }
      }
    },
    {
      "name": "Update Order to Paid",
      "request": {
        "method": "PUT",
        "header": [
          { "key": "Authorization", "value": "Bearer <USER_JWT_TOKEN>" },
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"id\": \"PAYMENT_ID_HERE\",\n  \"status\": \"Completed\",\n  \"update_time\": \"2025-08-31T10:00:00Z\",\n  \"email_address\": \"customer@example.com\"\n}"
        },
        "url": {
          "raw": "http://localhost:5000/api/orders/ORDER_ID_HERE/pay",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["api","orders","ORDER_ID_HERE","pay"]
        }
      }
    },
    {
      "name": "Update Order to Delivered (Admin)",
      "request": {
        "method": "PUT",
        "header": [
          { "key": "Authorization", "value": "Bearer <ADMIN_JWT_TOKEN>" }
        ],
        "url": {
          "raw": "http://localhost:5000/api/orders/ORDER_ID_HERE/deliver",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["api","orders","ORDER_ID_HERE","deliver"]
        }
      }
    },
    {
      "name": "Get All Orders (Admin)",
      "request": {
        "method": "GET",
        "header": [
          { "key": "Authorization", "value": "Bearer <ADMIN_JWT_TOKEN>" }
        ],
        "url": {
          "raw": "http://localhost:5000/api/orders",
          "protocol": "http",
          "host": ["localhost"],
          "port": "5000",
          "path": ["api","orders"]
        }
      }
    }
  ]
}
